@use "../palette" as *;

.projectbox {
    transform: translateY(calc(30vh - 50%));
    display: flex;
    flex-direction: row;
    width: 84vw;
    height: 50vh;
    & > .projectSlide {
        display: flex;
        border: 1px inset darken($motif-color-saturated, 7%);
        margin: 5px;
        transition: 0.35s;
        box-shadow: 0px 0px 0px transparent;
        .project-img {
            width: 100%;
            height: 100%;
            position: relative;
            margin-right: -100%;
            background-size: cover;
            background-position: center;
        }

        @keyframes textLight {
            0% {
                color: lighten($motif-color-saturated, 30%);
            }
            100% {
                color: lighten($motif-color-saturated, 10%);
            }
        }
        & > .project-title {
            position: absolute;
            color: transparent;
            white-space: nowrap;
            font-size: 2.2vh;
            transform: scaleY(85%);
        }
        & > .project-title-top {
            top: -2em;
        }
        & > .project-title-bottom {
            top: calc(50vh - 1em);
        }
        & > .project-img-over {
            width: 100%;
            height: 100%;
            margin-right: -100%;
            background-position: center;
            background-repeat: no-repeat;
            background-image:
                linear-gradient(
                    transparentize(lighten($motif-color-saturated, 10%), 0) 20%,
                    transparentize($motif-color-saturated, 1) 100%
                    );
            opacity: 0;
            animation-fill-mode: forwards;
            mix-blend-mode: exclusion;
        }
        &:hover {
            border: 1px solid $motif-color-saturated;
            box-shadow: 0px 0px 100px transparentize($motif-color-saturated, 0.7);
            flex-grow: 2;
            @keyframes imgOverEffect {
                0% {
                    opacity: 1;
                }
                100% {
                    opacity: 0.3;
                }
            }
            & > .project-img-over {
                animation-name: imgOverEffect;
                animation-duration: 0.6s;
                animation-timing-function: ease-out;
            }
            @for $i from 0 through 5 {
                .project-img-#{$i} {
                    background-image:
                        url("../../assets/project" + #{$i} + ".jpg");
                }
            }
            & > h1 {
                text-shadow: 0px 0px transparent;
                color: transparent;
                @for $i from 0 through 5 {
                    &.project-letter-#{$i} {
                        background-clip: unset;
                        -webkit-background-clip: unset;
                        background-image: linear-gradient(transparent, transparent);
                    }
                }
            }
            & > .project-title {
                animation-name: textLight;
                animation-duration: 2s;
                animation-fill-mode: forwards;
                animation-timing-function: ease-out;
            }
        }
        & > h1 {
            font-size: 2vh;
            transform: scale(1200%, 2350%);
            margin: auto;
            @for $i from 0 through 5 {
                &.project-letter-#{$i} {
                    background-clip: text;
                    -webkit-background-clip: text;
                    color: transparent;
                    background-size: 7.5vh 2.05vh;
                    background-position: center;
                    background-repeat: no-repeat;
                    background-image:
                        url("../../assets/project" + #{$i} + ".jpg"),
                        linear-gradient(
                            transparentize(lighten($motif-color-saturated, 10%), 0) 20%,
                            transparentize($motif-color-saturated, 1) 100%
                            );
                    background-blend-mode: exclusion;
                }
            }
        }
        flex-grow: 1;
        flex-basis: auto;
    }
}
